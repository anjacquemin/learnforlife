<div class="themes-list">
  <% @themes.reject{|theme| theme.adventure_only}.each_with_index do |theme, index| %>
    <% @progress = (theme.quizz_levels.count.zero? ? 0 : (@themes_stats[theme.name.to_sym][:total].to_f / (theme.quizz_levels.count * 3) * 100)).round()%>
    <%=link_to theme_path(theme) do%>
      <div class="card-enhanced">
        <div class="icon">
          <i class="fas fa-atlas"></i>
        </div>
        <div class="content">
          <h2><%= theme.name %></h2>
          <div class="achievements-count">
            <div class="achievement-count">
              <%= image_tag 'crown.png' %>
              <p><%= @themes_stats[theme.name.to_sym][:crowns] %> </p>
            </div>
            <div class="achievement-count">
              <%= image_tag 'sphere.png' %>
              <p><%= @themes_stats[theme.name.to_sym][:spheres] %></p>
            </div>
          </div>
        </div>
        <div class="circle-wrap "
        data-theme-index-target = "circleDiv<%=index%>"
        data-rotate<%=index%> = <%=@progress*1.8%>>
          <div class="circle">
            <div class="mask half">
              <div class="fill" data-theme-index-target= "circle<%=index%>"></div>
            </div>
            <div class="mask full" data-theme-index-target= "circle<%=index%>">
              <div class="fill" data-theme-index-target= "circle<%=index%>"></div>
            </div>
            <div class="inside-circle"> <%= @progress %>%</div>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>
</div>
